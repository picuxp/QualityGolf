function getUsuario(n,t){$.ajax({type:"POST",url:t,data:{id:n},success:function(n){mostrarUsuario(n)}})}function mostrarUsuario(n){var t,i;for(items=n,j=0,t=0;t<3;t++)i=document.getElementById("Select"),i.remove(t);$.each(items,function(n,t){$("input[name=Id]").val(t.id);$("input[name=UserName]").val(t.userName);$("input[name=Email]").val(t.email);$("input[name=Nombre]").val(t.nombre);$("input[name=Apellido]").val(t.apellido);$("input[name=Nacionalidad]").val(t.nacionalidad);$("input[name=Dni]").val(t.dni);$("input[name=Sexo]").val(t.sexo);$("input[name=PhoneNumber]").val(t.phoneNumber);$("input[name=Direccion]").val(t.direccion);$("input[name=Localidad]").val(t.localidad);$("input[name=CodigoPostal]").val(t.codigoPostal);$("input[name=TipoPlan]").val(t.tipoPlan);$("input[name=TipoSuscripcion]").val(t.tipoSuscripcion);$("input[name=CantidadClasesMes]").val(t.cantidadClasesMes);$("input[name=ClasesPendiente]").val(t.clasesPendiente);document.getElementById("Select").options[0]=new Option(t.role,t.roleId);$("#dEmail").text(t.email);$("#dUserName").text(t.userName);$("#dRole").text(t.role);$("#dNombre").text(t.nombre);$("#dApellido").text(t.apellido);$("#dNacionalidad").text(t.nacionalidad);$("#dDni").text(t.dni);$("#dSexo").text(t.sexo);$("#dPhoneNumber").text(t.phoneNumber);$("#dDireccion").text(t.direccion);$("#dLocalidad").text(t.localidad);$("#dCodigoPostal").text(t.codigoPostal);$("#dTipoPlan").text(t.tipoPlan);$("#dTipoSuscripcion").text(t.tipoSuscripcion);$("#dCantidadClasesMes").text(t.cantidadClasesMes);$("#dClasesPendiente").text(t.clasesPendiente);$("#eUsuario").text(t.email);$("input[name= EIdUsuario]").val(t.id)})}function getRoles(n){$.ajax({type:"POST",url:n,data:{},success:function(n){if(j===0){for(var t=0;t<n.length;t++)document.getElementById("Select").options[t]=new Option(n[t].text,n[t].value),document.getElementById("SelectNuevo").options[t]=new Option(n[t].text,n[t].value);j=1}}})}function editarUsuario(n){id=$("input[name=Id]")[0].value;email=$("input[name = Email]")[0].value;role=document.getElementById("Select");selectRole=role.options[role.selectedIndex].text;nombre=$("input[name=Nombre]")[0].value;apellido=$("input[name=Apellido]")[0].value;nacionalidad=$("input[name=Nacionalidad]")[0].value;dni=$("input[name=Dni]")[0].value;sexo=document.getElementById("Sexo").options[document.getElementById("Sexo").selectedIndex].text;phoneNumber=$("input[name=PhoneNumber]")[0].value;direccion=$("input[name=Direccion]")[0].value;localidad=$("input[name=Localidad]")[0].value;codigoPostal=$("input[name=CodigoPostal]")[0].value;tipoPlan=document.getElementById("TipoPlan").options[document.getElementById("TipoPlan").selectedIndex].text;tipoSuscripcion=document.getElementById("TipoSuscripcion").options[document.getElementById("TipoSuscripcion").selectedIndex].text;$.each(items,function(n,t){accessFailedCount=t.accessFailedCount;concurrentStamp=t.concurrentStamp;lockoutEnabled=t.lockoutEnabled;lockoutEnd=t.lockoutEnd;normalizedUserName=t.normalizedUserName;normalizedEmail=t.normalizedEmail;passwordHash=t.passwordHash;phoneNumberConfirmed=t.phoneNumberConfirmed;securityStamp=t.securityStamp;twoFactorEneable=t.twoFactorEneable;phoneNumber=t.phoneNumber;userName=t.userName;emailConfirmed=t.emailConfirmed});$.ajax({type:"POST",url:n,data:{id,userName,email,phoneNumber,accessFailedCount,concurrentStamp,emailConfirmed,lockoutEnabled,lockoutEnd,normalizedEmail,normalizedUserName,passwordHash,phoneNumberConfirmed,securityStamp,twoFactorEneable,selectRole,tipoSuscripcion,tipoPlan,codigoPostal,localidad,direccion,sexo,dni,nacionalidad,apellido,nombre},success:function(n){n=="Save"?window.location.href="Usuarios":alert("no se puede editar los datos del usuario")}})}function ocultarDetalleUsuario(){$("#modalDetalle").modal("hide")}function eliminarUsuario(n){var t=$("input[name=EIdUsuario]")[0].value;$.ajax({type:"POST",url:n,data:{id:t},success:function(n){n==="Delete"?window.location.href="Usuarios":alert("no se puede eliminar el usuario")}})}function crearUsuario(n){email=$("input[name=EmailNuevo]")[0].value;passwordHash=$("input[name=PasswordHashNuevo]")[0].value;role=document.getElementById("SelectNuevo");selectRole=role.options[role.selectedIndex].text;nombre=$("input[name=NombreNuevo]")[0].value;apellido=$("input[name=ApellidoNuevo]")[0].value;nacionalidad=$("input[name=NacionalidadNuevo]")[0].value;dni=$("input[name=DniNuevo]")[0].value;sexo=document.getElementById("SexoNuevo").options[document.getElementById("SexoNuevo").selectedIndex].text;phoneNumber=$("input[name=PhoneNumberNuevo]")[0].value;direccion=$("input[name=DireccionNuevo]")[0].value;localidad=$("input[name=LocalidadNuevo]")[0].value;codigoPostal=$("input[name=CodigoPostalNuevo]")[0].value;tipoPlan=document.getElementById("TipoPlanNuevo").options[document.getElementById("TipoPlanNuevo").selectedIndex].text;tipoSuscripcion=document.getElementById("TipoSuscripcionNuevo").options[document.getElementById("TipoSuscripcionNuevo").selectedIndex].text;cantidadClasesMes=8;clasesPendiente=7;email==""?($("#EmailNuevo").focus(),alert("Ingrese un email")):passwordHash==""?($("#PasswordHashNuevo").focus(),alert("ingrese un password")):(console.log(email,passwordHash,selectRole,nombre,apellido,nacionalidad,dni,sexo,phoneNumber,direccion,localidad,codigoPostal,tipoPlan,tipoSuscripcion,cantidadClasesMes,clasesPendiente),$.ajax({type:"POST",url:n,data:{email,passwordHash,selectRole,nombre,apellido,nacionalidad,dni,sexo,phoneNumber,direccion,localidad,codigoPostal,tipoPlan,tipoSuscripcion,cantidadClasesMes,clasesPendiente},success:function(n){n==="Save"?window.location.href="Home":$("#mensajeNuevo").html("No se puede guardar el usuario. <br/>Selecciones un rol. <br/>Ingrese un email correcto.<br/>El password debe tener más de 6 caracteres, un número, una mayúscula y un caracter especial.")}}))}$("#modalEditar").on("shown.bs.modal",function(){$("#myInput").focus()});var items,j=0,id,userName,email,role,selectRole,nacionalidad,nombre,apellido,dni,accessFailedCount,concurrentStamp,lockoutEnabled,lockoutEnd,normalizedUserName,normalizedEmail,passwordHash,phoneNumberConfirmed,securityStamp,twoFactorEneable,phoneNumber,emailConfirmed,sexo,direccion,localidad,codigoPostal,tipoPlan,tipoSuscripcion,cantidadClasesMes,clasesPendiente;